<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <title>Cititor German-Rom칙n</title>
    <style>
        body { font-family: sans-serif; padding: 20px; line-height: 1.8; background: #f4f7f6; }
        .container { max-width: 600px; margin: auto; background: white; padding: 20px; border-radius: 15px; shadow: 0 4px 6px rgba(0,0,0,0.1); }
        h2 { color: #2c3e50; border-bottom: 2px solid #3498db; padding-bottom: 10px; }
        
        /* Stil pentru cuvintele pe care se poate da click */
        .word { cursor: pointer; padding: 2px 4px; border-radius: 4px; transition: 0.2s; }
        .word:hover { background-color: #d1ecf1; color: #0c5460; }
        
        /* Stil pentru fereastra de traducere (Popup) */
        #translation-popup {
            display: none; position: absolute; background: #333; color: white;
            padding: 10px; border-radius: 8px; font-size: 14px; z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>

<div class="container">
    <h2>游닗 탲tiri 칥n German캒 (Exemplu)</h2>
    <div id="text-area">
        Guten Tag! Das ist ein einfacher Text zum Lesen. Heute ist das Wetter sehr sch칬n in Deutschland.
    </div>
</div>

<div id="translation-popup">Se 칥ncarc캒...</div>

<script>
    const textArea = document.getElementById('text-area');
    const popup = document.getElementById('translation-popup');

    // 1. Transform캒m textul 칥n cuvinte individuale pe care se poate da click
    const originalText = textArea.innerText;
    textArea.innerHTML = originalText.split(' ').map(word => `<span class="word">${word}</span>`).join(' ');

    // 2. Ad캒ug캒m func탵ia de traducere la click
    document.querySelectorAll('.word').forEach(wordElement => {
        wordElement.addEventListener('click', function(e) {
            const word = this.innerText.replace(/[.,!]/g, ''); // cur캒탵캒m cuv칙ntul de semne de punctua탵ie
            
            // Pozi탵ion캒m popup-ul l칙ng캒 deget/mouse
            popup.style.display = 'block';
            popup.style.left = e.pageX + 'px';
            popup.style.top = (e.pageY + 20) + 'px';
            popup.innerText = "Se traduce: " + word + "...";

            // 3. Trimitem cuv칙ntul c캒tre un serviciu de traducere (folosim un link direct c캒tre Google)
            const url = `https://translate.googleapis.com/translate_a/single?client=gtx&sl=de&tl=ro&dt=t&q=${word}`;
            
            fetch(url)
                .then(response => response.json())
                .then(data => {
                    const traducere = data[0][0][0];
                    popup.innerHTML = `<strong>${word}</strong> = <span style="color:#3498db">${traducere}</span>`;
                })
                .catch(() => {
                    popup.innerText = "Eroare la traducere.";
                });
        });
    });

    // 칉nchidem popup-ul dac캒 d캒m click oriunde altundeva
    document.addEventListener('click', function(e) {
        if (!e.target.classList.contains('word')) {
            popup.style.display = 'none';
        }
    });
</script>

</body>
</html>
